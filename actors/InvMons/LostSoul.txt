ACTOR InvLostSoul : LostSoul replaces LostSoul
{
  States
  {
  Death:
    SKUL F 6 Bright ACS_ExecuteAlways(120, 0)
    SKUL G 6 Bright A_Scream
    SKUL H 6 Bright
    SKUL I 6 Bright A_NoBlocking
    SKUL J 6
    SKUL K 6
    Stop
  //Death:
		//SKUL F 0 ACS_ExecuteAlways(120, 0)
		//goto Super::Death
  }
}

//This one is for when it is spawned by another monster (pain elemental). There might be a more elegant solution than this duplication.
ACTOR InvLostSoul_CountSpawn : LostSoul {
  var int user_hasSpawned;
  States {
  Spawn:
    SKUL A 0
		SKUL A 0 ACS_ExecuteAlways(121, 0, 1)
		SKUL A 0 A_SetUserVar("user_hasSpawned", 1)
	goto Super::Spawn
  Missile:
    SKUL A 0 
		SKUL A 0 A_SetUserVar("user_hasSpawned", 1)
		SKUL C 10 Bright A_FaceTarget
    SKUL D 4 Bright A_SkullAttack
    SKUL CD 4 Bright
    Goto Missile+4
  Death:
    //SKUL F 0 Bright A_JumpIf(user_hasSpawned == 0, 2) //If the thing hasn't been identified as spawned, then don't subtract it.
    SKUL F 0 Bright ACS_ExecuteAlways(120, 0, 1)
	  SKUL F 6 Bright
    SKUL G 6 Bright A_Scream
    SKUL H 6 Bright
    SKUL I 6 Bright A_NoBlocking
    SKUL J 6
    SKUL K 6
    Stop
    //goto Super::Death
  }
}

